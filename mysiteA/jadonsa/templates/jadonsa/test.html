{% load staticfiles %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">

	<style>
	table, td  {
	  border: 1px solid grey;
	  border-collapse: collapse;
	  padding: 5px;
	}

	.mycell {
	    width: 80px;
	}
	</style>

        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    </head>
    

   <body>
{%verbatim%}
        <div ng-app="myApp" ng-controller="myCtrl">
            
            <p>The name is <span ng-bind="firstName + ' ' + lastName"></span></p>
            
            {{ firstName + " " + lastName }}
            
            <br>
            <div w3-test-directive></div>
            <br>

<!--
            <div ng-init="quantity=1;price=5">
                <form method=post action="http://222.106.250.113:8000/setJadonsa/?format=json">
                    
                    Quantity: <input type="number"	ng-model="quantity">
                    Costs:    <input type="number" ng-model="price">

                    Total in dollar: {{ quantity * price }}
                    <input type="submit" name="Submit"/>
                    
                </form>
            </div>
-->
            <br>
            
            <p>Row Status : {{rowstatuscode}}</p>
            <p>Status : {{statuscode}}</p>
            <p> {{ tableData[0].roomId }}</p>
            <p> {{ tableData | filter:{roomId:"iyu1"} }}</p>

	<!-- http://aboooks.tistory.com/295 : html input property -->

                <form method=post action="http://222.106.250.113:8000/setJadonsa/?format=json">
		<table>
                        <tr>
                            <td>NO</td>
                            <td>전일 재고</td>
                            <td>전입</td>
                            <td>전출</td>
                            <td>판매</td>
                            <td>도폐사</td>
                            <td>생일</td>
                            <td>금일재고</td>
                            <td>비고</td>
                        </tr>

		  <tr ng-repeat="x in tableRowData">
			<td ng-if="$odd" style="background-color:#f1f1f1">
				{{ x.type1 + " " + x.type2 }}
			</td>

			<td ng-if="$odd" style="background-color:#f1f1f1">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$odd" style="background-color:#f1f1f1">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$odd" style="background-color:#f1f1f1">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$odd" style="background-color:#f1f1f1">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$odd" style="background-color:#f1f1f1">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$odd" style="background-color:#f1f1f1">
				<input type="date" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$odd" style="background-color:#f1f1f1">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$odd" style="background-color:#f1f1f1">
				<input type="text" ng-model="quantity">
                                {{ tableData | filter:{roomId:x.id} }}
			</td>



			<td ng-if="$even">
				{{ x.type1 + " " + x.type2 }}
			</td>

			<td ng-if="$even">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$even">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$even">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$even">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$even">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$even">
				<input type="date" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$even">
				<input type="number" ng-model="quantity" class="mycell">
			</td>
			<td ng-if="$even">
				<input type="text" ng-model="quantity">
                                {{ tableData | filter:{roomId:x.id} }}
			</td>

		  </tr>
		</table>

                <input type="submit" name="Submit"/>
                </form>


        </div>
{%endverbatim%}


        <script>
        var app = angular.module("myApp", []);

        app.controller("myCtrl", function($scope, $http) {
            $scope.firstName = "John";
            $scope.lastName = "Doe";

            $http.get("http://222.106.250.113:8000/getRoomId/?format=json")
            .then(function (response) {
                console.log(response);
                $scope.tableRowData = response.data;
                $scope.rowstatuscode = response.status;

                    $http.get("http://222.106.250.113:8000/getJadonsa/?format=json")
                    .then(function (response) {
                        console.log(response);
                        $scope.tableData = response.data;
                        $scope.statuscode = response.status;
                    });

            });
        
        });
            
        app.directive("w3TestDirective", function() {
            return {
                template : "I was made in a directive constructor!"
            };
        });
            
        </script>
       
    </body>
</html>

